<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khagendra Neupane | Portfolio</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="shortcut icon" type="web-icon" href="assets/img/logo2-pic.png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto
    <link rel=" preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <!-- Boxicons & FontAwesome -->
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <meta name="description"
        content="Explore the portfolio of Khagendra Neupane: Cybersecurity, Networking, AI/ML projects, experience, and contact information.">
    <meta name="keywords"
        content="Khagendra Neupane, portfolio, cybersecurity, networking, AI, machine learning, software, projects, Python, C, Linux, BEI, Pulchowk Campus">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://khagendraneupane.com.np/">
    <!-- Open Graph -->
    <meta property="og:title" content="Khagendra Neupane | Portfolio">
    <meta property="og:description"
        content="Explore projects in cybersecurity, networking, AI/ML, and more. Connect with Khagendra Neupane.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://khagendraneupane.com.np/">
    <meta property="og:image" content="https://khagendraneupane.com.np/assets/img/profile-final.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Khagendra Neupane | Portfolio">
    <meta name="twitter:description"
        content="Explore projects in cybersecurity, networking, AI/ML, and more. Connect with Khagendra Neupane.">
    <meta name="twitter:image" content="https://khagendraneupane.com.np/assets/img/profile-final.png">
    <!-- Supabase (UMD) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Defer main JS -->
    <script type="module" src="js/main.js"></script>
</head>

<body>
    <!--===== HEADER =====-->
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="#" class="nav__logo">Khagendra</a>
            </div>
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="#hero" class="nav__link active-link">Home</a></li>
                    <li class="nav__item"><a href="#about" class="nav__link">About</a></li>
                    <li class="nav__item"><a href="#skills" class="nav__link">Skills</a></li>
                    <li class="nav__item"><a href="#projects" class="nav__link">Projects</a></li>
                    <li class="nav__item"><a href="#timeline" class="nav__link">Experience</a></li>
                    <li class="nav__item"><a href="#contact" class="nav__link">Contact</a></li>
                </ul>
            </div>
            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
                <i class="fas fa-moon"></i>
            </button>
        </nav>
    </header>
    <main class="l-main">
        <!--===== HERO SECTION =====-->
        <section class="hero bd-grid" id="hero">
            <div class="hero__bg" aria-hidden="true"></div>
            <div class="hero__content">
                <h1 class="hero__title">I’m <span class="hero__title-color">Khagendra Neupane</span></h1>
                <h2 class="hero__subtitle">Aspiring Cybersecurity &bull; Networking &bull; AI/ML Professional</h2>
                <div class="hero__buttons">
                    <a href="assets/files/khagendra_cv.pdf" class="button" download>Download CV</a>
                    <a href="mailto:khagendranp@gmail.com" class="button button--outline">Email me</a>
                    <a href="blog.html" class="button button--blogs">Blogs</a>
                </div>
                <div class="hero__social">
                    <a href="https://www.linkedin.com/in/khagendra-neupane-37427532a/" class="hero__social-icon"
                        aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com/KhagendraN" class="hero__social-icon" aria-label="GitHub"><i
                            class="fab fa-github"></i></a>
                </div>
            </div>
            <div class="hero__img-wrapper">
                <img src="assets/img/profile-final.png" alt="Khagendra Neupane headshot" class="hero__img"
                    loading="lazy"
                    style="object-fit: cover; object-position: center; width: 200px; height: 200px; border-radius: 50%; box-shadow: 0 8px 32px rgba(34,34,59,0.15), 0 2px 8px rgba(0,0,0,0.08); background: #fff;">
            </div>
            <a href="#about" class="hero__scroll-indicator" aria-label="Scroll to About">
                <span class="hero__scroll-arrow">&#8595;</span>
            </a>
            <!-- SVG Wave for transition -->
            <div class="hero__wave" aria-hidden="true">
                <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"
                    style="width:100%;height:60px;display:block;">
                    <path fill="#fff" fill-opacity="1"
                        d="M0,32L48,37.3C96,43,192,53,288,69.3C384,85,480,107,576,117.3C672,128,768,128,864,117.3C960,107,1056,85,1152,69.3C1248,53,1344,43,1392,37.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                    </path>
                </svg>
            </div>
        </section>
        <!--===== ABOUT SECTION =====-->
        <section class="about section" id="about">
            <h2 class="section-title">About</h2>
            <div class="about__container bd-grid">
                <div class="about__img-wrapper">
                    <img src="assets/img/about.png" alt="Khagendra at IOE Pulchowk Campus" class="about__img"
                        loading="lazy">
                </div>
                <div class="about__content">
                    <h3 class="about__subtitle">I’m Khagendra Neupane</h3>
                    <p class="about__text">I am a Bachelor of Engineering (Electronics, Communication & Information)
                        student at Tribhuvan University, Pulchowk Campus, expected to graduate in 2028. I am passionate
                        about networking, cybersecurity, and AI/ML, and enjoy bridging academic learning with practical
                        applications. I am committed to contributing to open-source projects and fostering effective
                        communication within my academic community.</p>
                </div>
            </div>
            <!-- SVG Wave Divider -->
            <div class="section-divider" aria-hidden="true">
                <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"
                    style="width:100%;height:80px;display:block;">
                    <path class="wave1" fill="#fff" fill-opacity="1"
                        d="M0,64L48,69.3C96,75,192,85,288,101.3C384,117,480,139,576,149.3C672,160,768,160,864,149.3C960,139,1056,117,1152,101.3C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                    </path>
                    <path class="wave2" fill="#a3bffa" fill-opacity="0.5"
                        d="M0,80L60,90C120,100,240,120,360,120C480,120,600,100,720,90C840,80,960,80,1080,90C1200,100,1320,120,1380,120L1440,120L1440,120L1380,120C1320,120,1200,120,1080,120C960,120,840,120,720,120C600,120,480,120,360,120C240,120,120,120,60,120L0,120Z">
                    </path>
                    <path class="wave3" fill="#6366f1" fill-opacity="0.2"
                        d="M0,100L80,110C160,120,320,120,480,120C640,120,800,120,960,120C1120,120,1280,120,1360,120L1440,120L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z">
                    </path>
                </svg>
            </div>
        </section>
        <!--===== SKILLS SECTION =====-->
        <section class="skills section" id="skills">
            <h2 class="section-title">Skills</h2>

            <!-- SVG Gradients for circular progress -->
            <svg width="0" height="0" style="position: absolute;">
                <defs>
                    <linearGradient id="skillGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#4f46e5;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="expertGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#34d399;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="advancedGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#60a5fa;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="intermediateGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#fbbf24;stop-opacity:1" />
                    </linearGradient>
                </defs>
            </svg>

            <div class="skills__container bd-grid">
                <div class="skills__group">
                    <h3 class="skills__category">Programming</h3>
                    <div class="skills__content">
                        <div class="skills__data" tabindex="0" style="--progress: 95" data-level="expert">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">95%</div>
                            </div>
                            <div class="skills__names"><i class="fas fa-code skills__icon"></i><span
                                    class="skills__name">C</span></div>
                            <span class="skills__desc">System-level programming, algorithms</span>
                        </div>
                        <div class="skills__data" tabindex="0" style="--progress: 85" data-level="advanced">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">85%</div>
                            </div>
                            <div class="skills__names"><i class="fas fa-laptop-code skills__icon"></i><span
                                    class="skills__name">C++</span></div>
                            <span class="skills__desc">Performance-critical apps</span>
                        </div>
                        <div class="skills__data" tabindex="0" style="--progress: 65" data-level="intermediate">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">65%</div>
                            </div>
                            <div class="skills__names"><i class='fab fa-python skills__icon'></i><span
                                    class="skills__name">Python</span></div>
                            <span class="skills__desc">Data analysis & scripting</span>
                        </div>
                        <div class="skills__data" tabindex="0" style="--progress: 70" data-level="advanced">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">70%</div>
                            </div>
                            <div class="skills__names"><i class="fas fa-terminal skills__icon"></i><span
                                    class="skills__name">Bash Script</span></div>
                            <span class="skills__desc">Shell scripting, automation</span>
                        </div>
                    </div>
                </div>
                <div class="skills__group">
                    <h3 class="skills__category">Web Development</h3>
                    <div class="skills__content">
                        <div class="skills__data" tabindex="0" style="--progress: 90" data-level="expert">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">90%</div>
                            </div>
                            <div class="skills__names"><i class='bx bxl-css3 skills__icon'></i><span
                                    class="skills__name">HTML/CSS</span></div>
                            <span class="skills__desc">Responsive web design</span>
                        </div>
                        <div class="skills__data" tabindex="0" style="--progress: 50" data-level="intermediate">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">50%</div>
                            </div>
                            <div class="skills__names"><i class='fab fa-react skills__icon'></i><span
                                    class="skills__name">React</span></div>
                            <span class="skills__desc">Component-based UI development</span>
                        </div>
                    </div>
                </div>
                <div class="skills__group">
                    <h3 class="skills__category">Systems</h3>
                    <div class="skills__content">
                        <div class="skills__data" tabindex="0" style="--progress: 85" data-level="advanced">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">85%</div>
                            </div>
                            <div class="skills__names"><i class="fab fa-linux skills__icon"></i><span
                                    class="skills__name">Linux</span></div>
                            <span class="skills__desc">System administration</span>
                        </div>
                    </div>
                </div>
                <div class="skills__group">
                    <h3 class="skills__category">IoT & Hardware</h3>
                    <div class="skills__content">
                        <div class="skills__data" tabindex="0" style="--progress: 50" data-level="intermediate">
                            <div class="skills__progress-circle">
                                <svg viewBox="0 0 120 120">
                                    <circle class="skills__progress-bg" cx="60" cy="60" r="54" />
                                    <circle class="skills__progress-bar" cx="60" cy="60" r="54" />
                                </svg>
                                <div class="skills__progress-text">50%</div>
                            </div>
                            <div class="skills__names"><i class="fa-brands fa-raspberry-pi skills__icon"></i><span
                                    class="skills__name">Microcontroller</span></div>
                            <span class="skills__desc">Embedded systems, IoT</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skills Accordion Script -->
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const skillGroups = document.querySelectorAll('.skills__group');

                    skillGroups.forEach(group => {
                        const category = group.querySelector('.skills__category');

                        category.addEventListener('click', () => {
                            // Close all other groups
                            skillGroups.forEach(otherGroup => {
                                if (otherGroup !== group) {
                                    otherGroup.classList.remove('active');
                                }
                            });

                            // Toggle current group
                            group.classList.toggle('active');
                        });
                    });
                });
            </script>
        </section>
        <!-- SVG Wave Divider -->
        <div class="section-divider" aria-hidden="true">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"
                style="width:100%;height:80px;display:block;">
                <path class="wave1" fill="#fff" fill-opacity="1"
                    d="M0,64L48,69.3C96,75,192,85,288,101.3C384,117,480,139,576,149.3C672,160,768,160,864,149.3C960,139,1056,117,1152,101.3C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                </path>
                <path class="wave2" fill="#a3bffa" fill-opacity="0.5"
                    d="M0,80L60,90C120,100,240,120,360,120C480,120,600,100,720,90C840,80,960,80,1080,90C1200,100,1320,120,1380,120L1440,120L1440,120L1380,120C1320,120,1200,120,1080,120C960,120,840,120,720,120C600,120,480,120,360,120C240,120,120,120,60,120L0,120Z">
                </path>
                <path class="wave3" fill="#6366f1" fill-opacity="0.2"
                    d="M0,100L80,110C160,120,320,120,480,120C640,120,800,120,960,120C1120,120,1280,120,1360,120L1440,120L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z">
                </path>
            </svg>
        </div>
        <!--===== PROJECTS SECTION =====-->
        <section class="projects section" id="projects">
            <h2 class="section-title">Projects</h2>
            <div class="projects__container bd-grid" id="projects-container">
                <div style="grid-column: 1/-1; text-align: center; color: var(--second-color);">Loading projects...
                </div>
            </div>

            <!-- View More/Less Projects Buttons -->
            <div class="projects__more-wrapper" style="text-align:center; margin-top:2rem; display:none;"
                id="projects-controls">
                <button id="projects-more-btn" class="button" type="button">View More Projects</button>
                <button id="projects-less-btn" class="button" type="button" style="display:none;">View Less
                    Projects</button>
            </div>

            <!-- Modal template for JS to clone -->
            <div class="project__modal-template" style="display:none">
                <div class="project__modal-content">
                    <button class="project__modal-close" aria-label="Close project preview">&times;</button>
                    <img class="project__modal-img" src="" alt="Project preview">
                    <h3 class="project__modal-title"></h3>
                    <div class="project__modal-tech-icons"></div>
                    <p class="project__modal-desc"></p>
                    <div class="project__modal-links"></div>
                </div>
            </div>
        </section>

        <!-- Project Logic -->
        <script type="module">
            import { fetchProjects } from './js/projects-api.js';
            import { getTechIconHTML } from './js/utils.js';

            document.addEventListener('DOMContentLoaded', async () => {
                const container = document.getElementById('projects-container');
                const controls = document.getElementById('projects-controls');
                const moreBtn = document.getElementById('projects-more-btn');
                const lessBtn = document.getElementById('projects-less-btn');

                try {
                    const projects = await fetchProjects();
                    container.innerHTML = '';

                    if (projects.length === 0) {
                        container.innerHTML = '<div style="grid-column: 1/-1; text-align: center;">No projects found.</div>';
                        return;
                    }

                    // Separate pinned and others
                    const pinned = projects.filter(p => p.is_pinned);
                    const others = projects.filter(p => !p.is_pinned);

                    // Render function
                    const createCard = (p, hidden = false) => {
                        const card = document.createElement('div');
                        card.className = 'project__card';
                        if (hidden) {
                            card.classList.add('project--hidden');
                            card.style.display = 'none';
                        }

                        // Tech icons
                        const techStack = p.tech_stack || [];
                        const iconsHtml = techStack.map(t => `<span title="${t}">${getTechIconHTML(t)}</span>`).join(' ');

                        card.innerHTML = `
                            <img src="${p.image_url || 'assets/img/blog-default.jpg'}" alt="${p.title}" class="project__img" loading="lazy">
                            <div class="project__info">
                                <h3 class="project__title">${p.title}</h3>
                                <p class="project__desc">${p.description}</p>
                                <div class="project__tech-icons">${iconsHtml}</div>
                                ${p.github_url ? `<a href="${p.github_url}" class="project__link" target="_blank" rel="noopener"><i class="fab fa-github"></i> GitHub</a>` : ''}
                                <button class="project__details-btn" type="button">View Details</button>
                            </div>
                        `;

                        // Attach click event for modal (reusing existing modal logic from main.js if possible, 
                        // but main.js logic attaches listeners on load. We need to attach manually here.)
                        const btn = card.querySelector('.project__details-btn');
                        btn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            openProjectModal(p);
                        });

                        return card;
                    };

                    // Append Pinned
                    pinned.forEach(p => container.appendChild(createCard(p)));

                    // Append Others (Hidden)
                    others.forEach(p => container.appendChild(createCard(p, true)));

                    // Show/Hide Controls
                    if (others.length > 0) {
                        controls.style.display = 'block';

                        moreBtn.addEventListener('click', () => {
                            document.querySelectorAll('.project--hidden').forEach(el => {
                                el.style.display = 'block';
                                // Add fade in animation class if desired
                                el.style.animation = 'fadeIn 0.5s ease';
                            });
                            moreBtn.style.display = 'none';
                            lessBtn.style.display = 'inline-block';
                        });

                        lessBtn.addEventListener('click', () => {
                            document.querySelectorAll('.project--hidden').forEach(el => {
                                el.style.display = 'none';
                            });
                            moreBtn.style.display = 'inline-block';
                            lessBtn.style.display = 'none';
                            document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                } catch (err) {
                    console.error('Error loading projects:', err);
                    container.innerHTML = '<div style="grid-column: 1/-1; text-align: center; color: red;">Error loading projects.</div>';
                }
            });

            function openProjectModal(p) {
                const modalTemplate = document.querySelector('.project__modal-template');
                if (!modalTemplate) return;

                const modal = document.createElement('div');
                modal.className = 'project__modal active';
                const content = modalTemplate.querySelector('.project__modal-content').cloneNode(true);

                content.querySelector('.project__modal-img').src = p.image_url || 'assets/img/blog-default.jpg';
                content.querySelector('.project__modal-title').textContent = p.title;
                content.querySelector('.project__modal-desc').textContent = p.description;

                // Tech icons
                const techStack = p.tech_stack || [];
                content.querySelector('.project__modal-tech-icons').innerHTML = techStack.map(t =>
                    `<span class="tech-tag">${getTechIconHTML(t)} ${t}</span>`
                ).join('');

                // Links
                let links = '';
                if (p.github_url) links += `<a href="${p.github_url}" target="_blank"><i class="fab fa-github"></i> GitHub</a>`;
                if (p.demo_url) links += `<a href="${p.demo_url}" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>`;
                content.querySelector('.project__modal-links').innerHTML = links;

                modal.appendChild(content);
                document.body.appendChild(modal);
                document.body.style.overflow = 'hidden';

                const closeBtn = content.querySelector('.project__modal-close');
                const closeModal = () => {
                    document.body.removeChild(modal);
                    document.body.style.overflow = '';
                };

                closeBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });
            }
        </script>
        </section>
        <!-- SVG Wave Divider -->
        <div class="section-divider" aria-hidden="true">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"
                style="width:100%;height:80px;display:block;">
                <path class="wave1" fill="#fff" fill-opacity="1"
                    d="M0,64L48,69.3C96,75,192,85,288,101.3C384,117,480,139,576,149.3C672,160,768,160,864,149.3C960,139,1056,117,1152,101.3C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                </path>
                <path class="wave2" fill="#a3bffa" fill-opacity="0.5"
                    d="M0,80L60,90C120,100,240,120,360,120C480,120,600,100,720,90C840,80,960,80,1080,90C1200,100,1320,120,1380,120L1440,120L1440,120L1380,120C1320,120,1200,120,1080,120C960,120,840,120,720,120C600,120,480,120,360,120C240,120,120,120,60,120L0,120Z">
                </path>
                <path class="wave3" fill="#6366f1" fill-opacity="0.2"
                    d="M0,100L80,110C160,120,320,120,480,120C640,120,800,120,960,120C1120,120,1280,120,1360,120L1440,120L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z">
                </path>
            </svg>
        </div>
        <!--===== EXPERIENCE / TIMELINE SECTION =====-->
        <section class="timeline section" id="timeline">
            <h2 class="section-title">Experience & Timeline</h2>
            <div class="timeline__container" id="timeline-container">
                <div style="text-align: center; color: var(--second-color);">Loading experiences...</div>
            </div>

            <!-- Experience Logic -->
            <script type="module">
                import { fetchExperiences } from './js/experience-api.js';

                document.addEventListener('DOMContentLoaded', async () => {
                    const container = document.getElementById('timeline-container');

                    try {
                        const experiences = await fetchExperiences();
                        container.innerHTML = '';

                        if (experiences.length === 0) {
                            container.innerHTML = '<div style="text-align: center;">No experiences found.</div>';
                            return;
                        }

                        // Render each experience
                        experiences.forEach(exp => {
                            const item = document.createElement('div');
                            item.className = 'timeline__item';

                            // Apply layout classes based on type
                            if (exp.type === 'education') {
                                item.classList.add('left');
                            } else if (exp.type === 'experience') {
                                item.classList.add('right');
                            } else {
                                // Default fallback if needed, or just let it alternate if CSS supports it
                                // For now, defaulting to right for unknown types to keep them on one side
                                item.classList.add('right');
                            }

                            item.setAttribute('data-type', exp.type);

                            item.innerHTML = `
                                <div class="timeline__date">${exp.date_range}</div>
                                <div class="timeline__content">
                                    <h3 class="timeline__role">${exp.role}</h3>
                                    <p class="timeline__desc">${exp.description}</p>
                                </div>
                            `;

                            container.appendChild(item);
                        });

                    } catch (err) {
                        console.error('Error loading experiences:', err);
                        container.innerHTML = '<div style="text-align: center; color: red;">Error loading experiences.</div>';
                    }
                });
            </script>
        </section>

        <!-- SVG Wave Divider -->
        <div class="section-divider" aria-hidden="true">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"
                style="width:100%;height:80px;display:block;">
                <path class="wave1" fill="#fff" fill-opacity="1"
                    d="M0,64L48,69.3C96,75,192,85,288,101.3C384,117,480,139,576,149.3C672,160,768,160,864,149.3C960,139,1056,117,1152,101.3C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z">
                </path>
                <path class="wave2" fill="#a3bffa" fill-opacity="0.5"
                    d="M0,80L60,90C120,100,240,120,360,120C480,120,600,100,720,90C840,80,960,80,1080,90C1200,100,1320,120,1380,120L1440,120L1440,120L1380,120C1320,120,1200,120,1080,120C960,120,840,120,720,120C600,120,480,120,360,120C240,120,120,120,60,120L0,120Z">
                </path>
                <path class="wave3" fill="#6366f1" fill-opacity="0.2"
                    d="M0,100L80,110C160,120,320,120,480,120C640,120,800,120,960,120C1120,120,1280,120,1360,120L1440,120L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z">
                </path>
            </svg>
        </div>
        <!--===== CONTACT SECTION =====-->
        <section class="contact section" id="contact">
            <h2 class="section-title">Contact</h2>
            <div class="contact__container bd-grid">
                <form id="contact-form" class="contact__form" autocomplete="off"
                    action="https://formspree.io/f/mrbadqkp" method="POST">
                    <div id="form-status" class="sr-only" aria-live="polite"></div>
                    <input type="text" name="name" placeholder="Name" class="contact__input" required>
                    <input type="email" name="email" placeholder="Email" class="contact__input" required>
                    <textarea name="message" cols="0" rows="10" placeholder="Message" class="contact__input"
                        required></textarea>
                    <button type="submit" class="contact__button button" id="send-button">Send</button>
                </form>
                <div class="contact__links">
                    <a href="mailto:nkhagendra1@gmail.com" class="button button--outline"><i
                            class="fas fa-envelope"></i> Email me</a>
                    <a href="assets/files/khagendra_cv.pdf" class="button" download><i class="fas fa-download"></i>
                        Download CV</a>
                    <a href="https://www.linkedin.com/in/khagendra-neupane-37427532a/" class="contact__icon"
                        aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com/KhagendraN" class="contact__icon" aria-label="GitHub"><i
                            class="fab fa-github"></i></a>
                </div>
            </div>
        </section>
    </main>
    <!--===== FOOTER =====-->
    <footer class="footer">
        <div class="footer__container">
            <p class="footer__title">Khagendra Neupane</p>
            <p class="footer__tagline">Aspiring Cybersecurity • Networking • AI/ML Professional</p>
            <p class="footer__contact"><a href="mailto:nkhagendra1@gmail.com" aria-label="Email Khagendra"
                    class="footer__email">nkhagendra1@gmail.com</a></p>
            <div class="footer__social">
                <a href="https://www.facebook.com/khagendra.neupane.5602" class="footer__icon" aria-label="Facebook"
                    target="_blank" rel="noopener"><i class="fab fa-facebook"></i></a>
                <a href="https://www.instagram.com/khagendra.neupane_?igsh=YzljYTk1ODg3Zg==" class="footer__icon"
                    aria-label="Instagram" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
                <a href="https://discord.com/channels/@me" class="footer__icon" aria-label="Discord" target="_blank"
                    rel="noopener"><i class="fab fa-discord"></i></a>
                <a href="https://www.linkedin.com/in/khagendra-neupane-37427532a/" class="footer__icon"
                    aria-label="LinkedIn" target="_blank" rel="noopener"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/KhagendraN" class="footer__icon" aria-label="GitHub" target="_blank"
                    rel="noopener"><i class="fab fa-github"></i></a>
            </div>
            <button onclick="window.scrollTo({top:0,behavior:'smooth'})" class="footer__top" aria-label="Back to top"><i
                    class="fas fa-arrow-up"></i></button>
            <p class="footer__copy">&copy; <span id="footer-year"></span> Khagendra Neupane. All rights reserved.</p>
        </div>
    </footer>
    <script>document.getElementById('footer-year').textContent = new Date().getFullYear();</script>

    <!-- Load Profile Data -->
    <script type="module">
        import { fetchProfile } from './js/profile-api.js';

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const profile = await fetchProfile();
                if (profile) {
                    // Update hero image
                    if (profile.hero_image_url) {
                        const heroImg = document.querySelector('.hero__img');
                        if (heroImg) {
                            heroImg.src = profile.hero_image_url;
                        }
                    }

                    // Update About section
                    if (profile.about_image_url) {
                        const aboutImg = document.querySelector('.about__img');
                        if (aboutImg) {
                            aboutImg.src = profile.about_image_url;
                        }
                    }
                    if (profile.about_subtitle) {
                        const aboutSubtitle = document.querySelector('.about__subtitle');
                        if (aboutSubtitle) {
                            aboutSubtitle.textContent = profile.about_subtitle;
                        }
                    }
                    if (profile.about_text) {
                        const aboutText = document.querySelector('.about__text');
                        if (aboutText) {
                            aboutText.textContent = profile.about_text;
                        }
                    }

                    // Update CV links
                    if (profile.cv_url) {
                        const cvLinks = document.querySelectorAll('a[download]');
                        cvLinks.forEach(link => {
                            if (link.href.includes('khagendra_cv.pdf')) {
                                link.href = profile.cv_url;
                            }
                        });
                    }
                }
            } catch (err) {
                console.error('Error loading profile:', err);
            }
        });
    </script>

    <!--===== SCROLL REVEAL =====-->
    <script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js"></script>
    <!--===== MAIN JS =====-->
    <!-- <script defer src="assets/js/main.js"></script> Removed duplicate -->
</body>

</html>